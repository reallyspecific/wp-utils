{
  "version": 3,
  "sources": ["class.dialog.js"],
  "sourcesContent": ["\nexport default class dialog {\n\tconstructor(props) {\n\t\tthis.props = {\n\t\t\tcloseOnClickOutside: true,\n\t\t\troot: document.body,\n\t\t\t...props\n\t\t};\n\t\tthis.dialog = null;\n\t\tthis.addListener( 'close-dialog', this.close );\n\t}\n\n\tclickListener( e ) {\n\t\tif ( ! e.target.closest('.rs-util-settings-dialog__content') && this.props.closeOnClickOutside ) {\n\t\t\tthis.close();\n\t\t}\n\t\tconst button = e.target.closest('button');\n\t\tif ( button && button.dataset.action ) {\n\t\t\tdocument.dispatchEvent( new CustomEvent('dialog-action.' + button.dataset.action, { detail: { dialog: this.dialog, button } }) );\n\t\t}\n\t}\n\n\taddListener( eventName, callback ) {\n\t\tdocument.addEventListener( 'dialog-action.' + eventName, callback );\n\t}\n\n\tclose( { detail } ) {\n\t\tconst { dialog } = detail || {};\n\t\tdocument.body.classList.remove('rs-util-settings-dialog-open');\n\t\tif ( dialog ) {\n\t\t\tdialog.remove();\n\t\t}\n\t}\n\n\topen() {\n\t\tdocument.body.classList.add('rs-util-settings-dialog-open');\n\t\tthis.render();\n\t}\n\n\trender( props = {} ) {\n\t\tprops = { ...this.props, ...props };\n\n\t\tconst dialog = document.createElement('div');\n\t\tdialog.classList.add('rs-util-settings-dialog');\n\t\tdialog.innerHTML = `\n\t\t\t<div class=\"rs-util-settings-dialog__content\">\n\t\t\t\t<div class=\"rs-util-settings-dialog__header\">\n\t\t\t\t\t<h2>${props.title}</h2>\n\t\t\t\t\t<button type=\"button\" class=\"rs-util-settings-dialog__close\" data-action=\"close-dialog\">Close</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"rs-util-settings-dialog__body\">\n\t\t\t\t\t${props.content}\n\t\t\t\t\t<div class=\"rs-util-settings-dialog__actions\">\n\t\t\t\t\t\t${\n\t\t\t\t\t\t\tprops.actions.map( action => {\n\t\t\t\t\t\t\t\tconst el = document.createElement('button');\n\t\t\t\t\t\t\t\tel.type = 'button';\n\t\t\t\t\t\t\t\tel.classList.add('button','rs-util-settings-dialog__action');\n\t\t\t\t\t\t\t\tif ( action.primary ) {\n\t\t\t\t\t\t\t\t\tel.classList.add('button-primary');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( action.classes ) {\n\t\t\t\t\t\t\t\t\tel.classList.add(...action.classes);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( action.action ) {\n\t\t\t\t\t\t\t\t\tel.dataset.action = action.action;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tel.innerHTML = action.label;\n\t\t\t\t\t\t\t\treturn el.outerHTML;\n\t\t\t\t\t\t\t} ).join('') \n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.dialog = dialog;\n\t\tthis.props.root.appendChild(dialog);\n\n\t\tdialog.addEventListener('click', this.clickListener.bind(this) );\n\t\treturn dialog;\n\t}\n}\n\n\n"],
  "mappings": "MACA,IAAqBA,EAArB,KAA4B,CAC3B,YAAYC,EAAO,CAClB,KAAK,MAAQ,CACZ,oBAAqB,GACrB,KAAM,SAAS,KACf,GAAGA,CACJ,EACA,KAAK,OAAS,KACd,KAAK,YAAa,eAAgB,KAAK,KAAM,CAC9C,CAEA,cAAeC,EAAI,CACb,CAAEA,EAAE,OAAO,QAAQ,mCAAmC,GAAK,KAAK,MAAM,qBAC1E,KAAK,MAAM,EAEZ,IAAMC,EAASD,EAAE,OAAO,QAAQ,QAAQ,EACnCC,GAAUA,EAAO,QAAQ,QAC7B,SAAS,cAAe,IAAI,YAAY,iBAAmBA,EAAO,QAAQ,OAAQ,CAAE,OAAQ,CAAE,OAAQ,KAAK,OAAQ,OAAAA,CAAO,CAAE,CAAC,CAAE,CAEjI,CAEA,YAAaC,EAAWC,EAAW,CAClC,SAAS,iBAAkB,iBAAmBD,EAAWC,CAAS,CACnE,CAEA,MAAO,CAAE,OAAAC,CAAO,EAAI,CACnB,GAAM,CAAE,OAAAN,CAAO,EAAIM,GAAU,CAAC,EAC9B,SAAS,KAAK,UAAU,OAAO,8BAA8B,EACxDN,GACJA,EAAO,OAAO,CAEhB,CAEA,MAAO,CACN,SAAS,KAAK,UAAU,IAAI,8BAA8B,EAC1D,KAAK,OAAO,CACb,CAEA,OAAQC,EAAQ,CAAC,EAAI,CACpBA,EAAQ,CAAE,GAAG,KAAK,MAAO,GAAGA,CAAM,EAElC,IAAMD,EAAS,SAAS,cAAc,KAAK,EAC3C,OAAAA,EAAO,UAAU,IAAI,yBAAyB,EAC9CA,EAAO,UAAY;AAAA;AAAA;AAAA,WAGVC,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,OAIfA,EAAM,OAAO;AAAA;AAAA,QAGbA,EAAM,QAAQ,IAAKM,GAAU,CAC5B,IAAMC,EAAK,SAAS,cAAc,QAAQ,EAC1C,OAAAA,EAAG,KAAO,SACVA,EAAG,UAAU,IAAI,SAAS,iCAAiC,EACtDD,EAAO,SACXC,EAAG,UAAU,IAAI,gBAAgB,EAE7BD,EAAO,SACXC,EAAG,UAAU,IAAI,GAAGD,EAAO,OAAO,EAE9BA,EAAO,SACXC,EAAG,QAAQ,OAASD,EAAO,QAE5BC,EAAG,UAAYD,EAAO,MACfC,EAAG,SACX,CAAE,EAAE,KAAK,EAAE,CACZ;AAAA;AAAA;AAAA;AAAA,IAMJ,KAAK,OAASR,EACd,KAAK,MAAM,KAAK,YAAYA,CAAM,EAElCA,EAAO,iBAAiB,QAAS,KAAK,cAAc,KAAK,IAAI,CAAE,EACxDA,CACR,CACD",
  "names": ["dialog", "props", "e", "button", "eventName", "callback", "detail", "action", "el"]
}
